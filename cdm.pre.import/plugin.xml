<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application
            visible="true">
         <run
               class="cdm.pre.imp.app.Application">
         </run>
      </application>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="cdm.pre.imp.app.Perspective"
            fixed="true"
            id="cdm.pre.imp.perspective"
            name="Perspective">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            class="cdm.pre.imp.StructView"
            icon="icons/syncpane_co.gif"
            id="cdm.pre.imp.view"
            name="StructView"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            adaptable="false"
            icon="icons/warning_ovr.gif"
            id="cdm.pre.imp.tree.elem.1"
            label="TreeElement Decorator 1"
            lightweight="false"
            location="BOTTOM_LEFT"
            state="true">
         <!-- Please don't care of any warning in eclipse JT -->
         <enablement>
         <!-- Please don't care of any warning in eclipse JT -->
            <and>
               <objectClass
                     name="cdm.pre.imp.mod.TreeElement">
               </objectClass>
               <objectState
                     name="hasChanges"
                     value="true">
               </objectState>
            </and>
         </enablement>
      </decorator>
      <decorator
            adaptable="false"
            icon="icons/error_co_buildpath.gif"
            id="cdm.pre.imp.tree.elem.2"
            label="TreeElement Decorator 2"
            lightweight="false"
            location="TOP_LEFT"
            state="true">
         <!-- Please don't care of any warning in eclipse JT -->
         <enablement>
         <!-- Please don't care of any warning in eclipse JT -->
            <and>
               <objectClass
                     name="cdm.pre.imp.mod.TreeElement">
               </objectClass>
               <objectState
                     name="isFilterMatch"
                     value="true">
               </objectState>
            </and>
         </enablement>
      </decorator>
   </extension>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="cdm.pre.import.application"
            name="CRM PRE IMPORT">
         <property
               name="appName"
               value="CRM PRE IMPORT">
         </property>
         <property
               name="windowImages"
               value="icons/dna_icons_16.png,icons/dna_icons_32.png,icons/dna_icons_48.png,icons/dna_icons_64.png,icons/dna_icons_128.png">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:cdm.pre.import.tree.menu">
         <command
               commandId="cdm.pre.import.tree.copy.disp.handler"
               icon="icons/copy_edit.gif"
               label="Kopiere Anzeigename"
               style="push">
            <visibleWhen
                  checkEnabled="true">
            </visibleWhen>
         </command>
         <command
               commandId="cdm.pre.import.tree.copy.part.handler"
               icon="icons/copy_edit.gif"
               label="Kopiere Teilenummer"
               style="push">
            <visibleWhen
                  checkEnabled="true">
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:cdm.pre.imp.view">
         <!-- toolbar id="cdm.pre.imp.view.toolbar"-->
         <command
               commandId="cdm.pre.import.expand.handler"
               icon="icons/expandall.gif"
               label="Expand Structure"
               style="push"
               tooltip="Expand Structure">
         </command>
         <command
               commandId="cdm.pre.import.collapse.handler"
               icon="icons/collapseall.gif"
               label="Collapse structure"
               style="push"
               tooltip="Collapse structure">
         </command>
         <command
               commandId="cdm.pre.import.show.s1.handler"
               icon="icons/shift_l_edit.gif"
               label="Show PLMXML 1"
               style="push"
               tooltip="Show PLMXML 1">
         </command>
         <command
               commandId="cdm.pre.import.show.s2.handler"
               icon="icons/shift_r_edit.gif"
               label="Show PLMXML 2"
               style="push"
               tooltip="Show PLMXML 2">
         </command>
         <command
               commandId="cdm.pre.import.delta.handler"
               icon="icons/synced.gif"
               label="Calculate Delta"
               style="push"
               tooltip="Calculate Delta">
         </command>
         <command
               commandId="cdm.pre.import.import.xml.handler"
               icon="icons/creat_svr.gif"
               label="Create Import XML"
               style="push"
               tooltip="Create Import XML">
         </command>
         <command
               commandId="cdm.pre.import.althier.handler"
               icon="icons/tree-view_co.gif"
               label="Show Alternative Hierarchy"
               style="toggle"
               tooltip="Show Alternative Hierarchy">
         </command>
         <command
               commandId="org.eclipse.ui.window.preferences"
               icon="icons/configure.gif"
               label="Preferences"
               style="push"
               tooltip="Open Preferences Dialog">
         </command>
         <!-- /toolbar -->
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="cdm.pre.imp.actions.CopyDispHandler"
            commandId="cdm.pre.import.tree.copy.disp.handler">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="cdm.pre.imp.mod.TreeElement">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.CopyPartHandler"
            commandId="cdm.pre.import.tree.copy.part.handler">
         <enabledWhen>
            <with
                  variable="selection">
               <iterate
                     ifEmpty="false"
                     operator="and">
                  <instanceof
                        value="cdm.pre.imp.mod.TreeElement">
                  </instanceof>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.S1Handler"
            commandId="cdm.pre.import.show.s1.handler">
         <enabledWhen>
            <with
                  variable="cdm.pre.import.showS1">
               <equals
                     value="true">
               </equals>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.S2Handler"
            commandId="cdm.pre.import.show.s2.handler">
         <enabledWhen>
            <with
                  variable="cdm.pre.import.showS2">
               <equals
                     value="true">
               </equals>
            </with></enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.ExpandHandler"
            commandId="cdm.pre.import.expand.handler">
         <enabledWhen>
            <or>
               <with
                     variable="cdm.pre.import.root1.active">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.root2.active">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.delta.active">
                  <equals
                        value="true">
                  </equals>
               </with>
            </or>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.CollapseHandler"
            commandId="cdm.pre.import.collapse.handler">
         <enabledWhen>
            <or>
               <with
                     variable="cdm.pre.import.root1.active">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.root2.active">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.delta.active">
                  <equals
                        value="true">
                  </equals>
               </with>
            </or>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.DeltaHandler"
            commandId="cdm.pre.import.delta.handler">
         <enabledWhen>
            <and>
               <with
                     variable="cdm.pre.import.showS1">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.showS2">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.althier.set">
                  <equals
                        value="false">
                  </equals>
               </with>
            </and>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.ImportXMLHandler"
            commandId="cdm.pre.import.import.xml.handler">
         <enabledWhen>
            <or>
               <with
                     variable="cdm.pre.import.delta.active">
                  <equals
                        value="true">
                  </equals>
                  <and>
                     <with
                           variable="cdm.pre.import.delta.expval">
                        <equals
                              value="true">
                        </equals>
                     </with>
                  </and>
               </with>
               <with
                     variable="cdm.pre.import.root1.active">
                  <equals
                        value="true">
                  </equals>
               </with>
               <with
                     variable="cdm.pre.import.root2.active">
                  <equals
                        value="true">
                  </equals>
               </with>
            </or>
         </enabledWhen>
      </handler>
      <handler
            class="cdm.pre.imp.actions.AltHierHandler"
            commandId="cdm.pre.import.althier.handler">
         <enabledWhen>
            <with
                  variable="cdm.pre.import.delta.active">
               <equals
                     value="false">
               </equals>
               <and>
                  <with
                        variable="cdm.pre.import.althier.active">
                     <equals
                           value="true">
                     </equals>
                  </with>
               </and>
            </with>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="cdm.pre.imp.actions.SourceProvider">
         <variable
               name="cdm.pre.import.showS1"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.showS2"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.root1.active"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.root2.active"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.delta.active"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.delta.expval"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.althier.active"
               priorityLevel="workbench">
         </variable>
         <variable
               name="cdm.pre.import.althier.set"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="cdm.pre.import.commands.category"
            name="CDM PRE IMPORT Category">
      </category>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.expand.handler"
            name="Expand Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.collapse.handler"
            name="Collapse Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.show.s1.handler"
            name="Show Snapshot 1 Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.show.s2.handler"
            name="Show Snapshot 2 Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.delta.handler"
            name="Show Delta Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.import.xml.handler"
            name="Create Import XML Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.tree.copy.disp.handler"
            name="Copy Display Text Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.tree.copy.part.handler"
            name="Copy Partnumber Command">
      </command>
      <command
            categoryId="cdm.pre.import.commands.category"
            id="cdm.pre.import.althier.handler"
            name="Show AltHierarchy Command">
            <state class="org.eclipse.ui.handlers.RegistryToggleState:false" id="org.eclipse.ui.commands.toggleState"/>
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="cdm.pre.imp.prefs.PreferencesPage"
            id="cdm.pre.imp.prefs.PreferencesPage"
            name="CDM Import XML Preferences">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="cdm.pre.imp.prefs.PreferenceInitializer">
      </initializer>
   </extension>
</plugin>
